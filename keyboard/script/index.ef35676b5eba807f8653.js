"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[826],{200:()=>{const e=JSON.parse('{"row1":[{"elEng":"~<br />`","classes":["char-ru"],"dataCode":"Backquote","elRus":"ё"},{"elEng":"!<br />1","classes":["double"],"dataCode":"Digit1"},{"elEng":"@<br />2","classes":["double"],"dataCode":"Digit2","elRus":"&quot;<br />2"},{"elEng":"#<br />3","classes":["double"],"dataCode":"Digit3","elRus":"№<br />3"},{"elEng":"$<br />4","classes":["double"],"dataCode":"Digit4","elRus":";<br />4"},{"elEng":"%<br />5","classes":["double"],"dataCode":"Digit5"},{"elEng":"^<br />6","classes":["double"],"dataCode":"Digit6","elRus":":<br />6"},{"elEng":"&<br />7","classes":["double"],"dataCode":"Digit7","elRus":"?<br />7"},{"elEng":"*<br />8","classes":["double"],"dataCode":"Digit8"},{"elEng":"(<br />9","classes":["double"],"dataCode":"Digit9"},{"elEng":")<br />0","classes":["double"],"dataCode":"Digit0"},{"elEng":"_<br />-","classes":["double"],"dataCode":"Minus"},{"elEng":"+<br />=","classes":["double"],"dataCode":"Equal"},{"elEng":"back","classes":["text","right","flex_1"],"dataCode":"Backspace"}],"row2":[{"elEng":"tab","classes":["text","flex_1"],"dataCode":"Tab"},{"elEng":"q","classes":["char"],"dataCode":"KeyQ","elRus":"й"},{"elEng":"w","classes":["char"],"dataCode":"KeyW","elRus":"ц"},{"elEng":"e","classes":["char"],"dataCode":"KeyE","elRus":"у"},{"elEng":"r","classes":["char"],"dataCode":"KeyR","elRus":"к"},{"elEng":"t","classes":["char"],"dataCode":"KeyT","elRus":"е"},{"elEng":"y","classes":["char"],"dataCode":"KeyY","elRus":"н"},{"elEng":"u","classes":["char"],"dataCode":"KeyU","elRus":"г"},{"elEng":"i","classes":["char"],"dataCode":"KeyI","elRus":"ш"},{"elEng":"o","classes":["char"],"dataCode":"KeyO","elRus":"щ"},{"elEng":"p","classes":["char"],"dataCode":"KeyP","elRus":"з"},{"elEng":"{<br />[","classes":["char-ru"],"dataCode":"BracketLeft","elRus":"х"},{"elEng":"}<br />]","classes":["char-ru"],"dataCode":"BracketRight","elRus":"ъ"},{"elEng":"|<br />\\\\","classes":["flex_1","double"],"dataCode":"Backslash","elRus":"/<br />\\\\;"},{"elEng":"del","classes":["text","flex_1"],"dataCode":"Delete"}],"row3":[{"elEng":"caps lock <span class=\'bulb\'></span> ","classes":["text","left","flex_1","caps"],"dataCode":"CapsLock"},{"elEng":"a","classes":["char"],"dataCode":"KeyA","elRus":"ф"},{"elEng":"s","classes":["char"],"dataCode":"KeyS","elRus":"ы"},{"elEng":"d","classes":["char"],"dataCode":"KeyD","elRus":"в"},{"elEng":"f","classes":["char"],"dataCode":"KeyF","elRus":"а"},{"elEng":"g","classes":["char"],"dataCode":"KeyG","elRus":"п"},{"elEng":"h","classes":["char"],"dataCode":"KeyH","elRus":"р"},{"elEng":"j","classes":["char"],"dataCode":"KeyJ","elRus":"о"},{"elEng":"k","classes":["char"],"dataCode":"KeyK","elRus":"л"},{"elEng":"l","classes":["char"],"dataCode":"KeyL","elRus":"д"},{"elEng":";<br />:","classes":["char-ru"],"dataCode":"Semicolon","elRus":"ж"},{"elEng":"\'<br />\\"","classes":["char-ru"],"dataCode":"Quote","elRus":"э"},{"elEng":"enter","classes":["text","right","flex_1"],"dataCode":"Enter"}],"row4":[{"elEng":"shift","classes":["text","left","flex_1","right-shift"],"dataCode":"ShiftLeft"},{"elEng":"z","classes":["char"],"dataCode":"KeyZ","elRus":"я"},{"elEng":"x","classes":["char"],"dataCode":"KeyX","elRus":"ч"},{"elEng":"c","classes":["char"],"dataCode":"KeyC","elRus":"с"},{"elEng":"v","classes":["char"],"dataCode":"KeyV","elRus":"м"},{"elEng":"b","classes":["char"],"dataCode":"KeyB","elRus":"и"},{"elEng":"n","classes":["char"],"dataCode":"KeyN","elRus":"т"},{"elEng":"m","classes":["char"],"dataCode":"KeyM","elRus":"ь"},{"elEng":"<<br />,","classes":["char-ru"],"dataCode":"Comma","elRus":"б"},{"elEng":"><br />.","classes":["char-ru"],"dataCode":"Period","elRus":"ю"},{"elEng":"?<br />/","classes":["double"],"dataCode":"Slash","elRus":".<br />,"},{"elEng":"shift","classes":["text","right","flex_1","shift-left"],"dataCode":"ShiftRight"}],"row5":[{"elEng":"ctrl","classes":["text","ctrl-left"],"dataCode":"ControlLeft"},{"elEng":"win","classes":["text"],"dataCode":"MetaLeft"},{"elEng":"alt","classes":["text","alt-left"],"dataCode":"AltLeft"},{"elEng":"","classes":["flex_1"],"dataCode":"Space"},{"elEng":"ctrl","classes":["text","ctrl-right"],"dataCode":"ControlRight"},{"elEng":"alt","classes":["text","alt-right"],"dataCode":"AltRight"},{"elEng":"arrows","classes":["arrows"]}]}');class t{constructor(e){this.rows=e}generateKeyboard(){let e="";const t=document.createElement("div");return t.id="board",Object.keys(this.rows).forEach((t=>{e+='<div class="row">',this.rows[t].forEach((({elEng:t,classes:a,dataCode:s,elRus:l})=>{e+="arrows"!==t?`<button type="button" class="${a.join(" ")}" data-code="${s}" ${l?`data-cache="${l}"`:""}>${t} </button>`:'<div class="arrows">\n          <div class="row">\n            <button type="button" class="arrow arrow_up" data-code="ArrowUp"></button>\n          </div>\n          <div class="row">\n          <button type="button" class="arrow arrow_left" data-code="ArrowLeft"></button>\n          <button type="button" class="arrow arrow_down" data-code="ArrowDown"></button>\n            <button type="button" class="arrow arrow_right" data-code="ArrowRight"></button>\n          </div>\n        </div>'})),e+="</div>"})),t.innerHTML=e,t}}class a{constructor(e){this.arrOfMessages=e}generateMessage(){const e=document.createDocumentFragment();return this.arrOfMessages.forEach((t=>{const a=document.createElement("p");a.className="message",a.innerHTML=t,e.append(a)})),e}}const s=function(){const e=document.createElement("div");return function(t){return t&&"string"==typeof t&&(t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),e.innerHTML=t,t=e.textContent,e.textContent=""),t}}();let l,n,r,c=!1,o=!1;const d=["All keys that are not present on the virtual keyboard work as usual","The keyboard was created in the Windows operating system","To switch the language combination: left ctrl + alt"],i=(e,t)=>{let a,s;if(t&&(s="ru"===l),e&&e.altKey&&e.ctrlKey&&(l="en"===l?"ru":"en",n="en"===l,a=!0),s||a){document.querySelectorAll("[data-cache]").forEach((e=>{const t=e.dataset.cache;e.dataset.cache=e.innerHTML,e.innerHTML=t})),a=!1}},u=(e,t)=>{const a=`[data-code="${t}"]`;return document.querySelector(a)},g=()=>{let e;const t=document.querySelectorAll(".char");if("en"===l)e=t;else{const a=document.querySelectorAll(".char-ru");e=[...t,...a]}c?(e.forEach((e=>{e.innerHTML=e.innerHTML.toLowerCase()})),c=!1):(e.forEach((e=>{e.innerHTML=e.innerHTML.toUpperCase()})),c=!0)},h=(e,t,a,l)=>{let n=0,r=t;const c=s(e),o=c.length;if(!l){if(n=1,r-=1,r<0&&!a||r+1===o&&a)return null;a&&r++}return c.slice(0,r)+(l||"")+c.slice(r+n)},b=(e,t,a)=>{let s;const l=document.querySelector("textarea"),r=l.selectionStart,c=l.innerHTML.length;switch(i(a,!1),l.focus(),e){case"CapsLock":if(a.repeat)return;t.classList.toggle("caps_active"),g();break;case"Enter":s="\n",l.innerHTML=h(l.innerHTML,l.selectionStart,!1,s),l.selectionStart=r+1;break;case"Space":s=" ",l.innerHTML=h(l.innerHTML,l.selectionStart,!1,s),l.selectionStart=r+1;break;case"Tab":s="    ",l.innerHTML=h(l.innerHTML,l.selectionStart,!1,s),l.selectionStart=r+4;break;case"ArrowLeft":l.selectionStart=l.selectionEnd=r-1<0?0:r-1;break;case"ArrowRight":l.selectionStart=l.selectionEnd=r+1>c?c:r+1;break;case"Delete":const e=h(l.innerHTML,l.selectionStart,!0);null!==e&&(l.innerHTML=e,l.selectionStart=r);break;case"Backspace":const d=h(l.innerHTML,l.selectionStart,!1);null!==d&&(l.innerHTML=d,l.selectionStart=r-1);break;case"ShiftLeft":case"ShiftRight":if(a.repeat)return;o=!0,g();break;case"ControlLeft":case"MetaLeft":case"AltLeft":case"AltRight":case"ControlRight":break;default:((e,t,a)=>{let s;const l=!n&&e.classList.contains("char-ru"),r=!!n&&e.classList.contains("char-ru");if(e.classList.contains("char")||l)s=e.innerHTML.trim(),t.innerHTML=h(t.innerHTML,t.selectionStart,!1,s);else if(e.classList.contains("double")||r){const[a,l]=e.innerHTML.split("<br>").map((e=>e.trim()));s=o?a:l,t.innerHTML=h(t.innerHTML,t.selectionStart,!1,s)}t.selectionStart=a+1})(t,l,r)}},E=s=>{l=s,n="en"===l;const c=document.querySelector("body"),u=document.createElement("div");u.className="container";const h=(()=>{const e=document.createElement("textarea");return e.id="editable",e.className="textarea",e.setAttribute("placeholder","Lets go"),e.setAttribute("autofocus","autofocus"),e.setAttribute("spellcheck","false"),e})(),E=new t(e).generateKeyboard(),f=new a(d).generateMessage();u.append(h,E,f),c.append(u),i(null,!0),E.addEventListener("pointerdown",(e=>{const t=e.target;if("button"===t.tagName.toLowerCase()){r=t;const a=t.dataset.code;b(a,t,e)}})),E.addEventListener("pointerup",(()=>{if(r){const e=r.dataset.code;h.focus(),"ShiftLeft"!==e&&"ShiftRight"!==e||(o=!1,g()),r=null}}))};let f;document.addEventListener("keydown",(e=>{const t=e.code,a=u(0,t);if(!a)return console.log("There is no such key on the virtual keyboard");a.classList.add("button_active"),"ArrowUp"!==a.dataset.code&&"ArrowDown"!==a.dataset.code&&e.preventDefault(),b(t,a,e)})),document.addEventListener("keyup",(e=>{const t=e.code,a=u(0,t);a&&a.classList.remove("button_active"),"ShiftLeft"!==t&&"ShiftRight"!==t||(o=!1,g())})),window.addEventListener("beforeunload",(function(){localStorage.setItem("language",l)})),f=localStorage.getItem("language")&&"undefined"!==localStorage.getItem("language")?localStorage.getItem("language"):"en",window.onload=function(){E(f)}}},e=>{var t;t=200,e(e.s=t)}]);
//# sourceMappingURL=../maps/script/index.ef35676b5eba807f8653.js.map